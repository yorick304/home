!function(n){"use strict";n.fn.swipeEvents=function(){return this.each(function(){function i(n){var i=n.originalEvent.touches;i&&i.length&&(o=i[0].pageX,e=i[0].pageY,s.bind("touchmove",t))}function t(n){var i=n.originalEvent.touches;if(i&&i.length){var a=o-i[0].pageX,r=e-i[0].pageY;a>=50&&s.trigger("swipeLeft"),-50>=a&&s.trigger("swipeRight"),r>=50&&s.trigger("swipeUp"),-50>=r&&s.trigger("swipeDown"),(Math.abs(a)>=50||Math.abs(r)>=50)&&s.unbind("touchmove",t)}}var o,e,s=n(this);s.bind("touchstart",i)})};var i=function(i,t){this.container="string"==typeof i?n(i):i;var o=this.config;return this.config=n.extend(!0,o,t||{}),this.version="1.2.1",this.index=0,this.doms=[],this.dotsDoms=[],this.navDoms=[],this.sLock=!0,this.section=n(this.config.section,this.container),this.pageLength=this.section.length,!!this.pageLength&&void this.init()};i.prototype={config:{section:"section",navgation:["nav","li","data-index"],direction:"vertical",easing:"ease",animationTime:1e3,currentClass:"current",hideScrollBar:!0,dots:!0,keyboard:!0,loop:!1,callback:function(){}},supportCss:function(n){var i=document.documentElement.style,t=["Webkit","Moz","ms","O"],o=t.length,e=0;if(n in i)return!0;for(n=n.replace(/^[a-z]/,function(n){return n.toUpperCase()}),e;o>e;e++)if(t[e]+n in i)return!0;return!1},moveUp:function(){if(this.index>0)this.index--;else{if(!this.config.loop)return;this.index=this.pageLength-1}this.moveTo(this.index)},moveDown:function(){if(this.index<this.pageLength-1)this.index++;else{if(!this.config.loop)return;this.index=0}this.moveTo(this.index)},moveTo:function(n){return!(0>n||n>this.pageLength-1)&&void this.transLate(n)},transLate:function(n){var i=this,t=i.config,o=-1*Math.floor(100*n/i.pageLength).toFixed(2);if(i.sLock=!1,i.index=n,i.supportCss("transform")&&i.supportCss("transition")){var e="all "+t.animationTime+"ms "+t.easing,s="";"vertical"==t.direction?s="translate3d(0,"+o+"%,0)":"horizontal"==t.direction&&(s="translate3d("+o+"%,0,0)"),i.container.css({WebkitTransition:e,MozTransition:e,msTransition:e,transition:e,WebkitTransform:s,MozTransform:s,msTransform:s,transform:s}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){i.sLock=!0,"function"==typeof t.callback&&t.callback(n)})}else{var a="vertical"==t.direction?{top:o+"100%"}:{left:o+"100%"};i.container.animate(a,t.animationTime,t.easing,function(){i.sLock=!0,"function"==typeof t.callback&&t.callback(n)})}i.config.dots&&i.dotsDoms[n].addClass(t.currentClass).siblings().removeClass(t.currentClass),i.config.navgation&&i.navDoms[n].addClass(t.currentClass).siblings().removeClass(t.currentClass),i.section.eq(n).addClass(t.currentClass).siblings().removeClass(t.currentClass)},init:function(){var i=this;i.section.each(function(){i.doms.push(n(this))}),i.initStyle(),i.config.dots&&i.initDots(),i.config.navgation&&i.initNavgation(),i.action()},action:function(){var i=this;n(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(n){if(i.sLock){n.preventDefault();var t=n.originalEvent.wheelDelta||-n.originalEvent.detail;0>t?i.moveDown():i.moveUp()}}),i.config.keyboard&&n(document).bind("keydown",function(n){(37==n.keyCode||38==n.keyCode||39==n.keyCode||40==n.keyCode)&&i.sLock&&(n.preventDefault(),37==n.keyCode||38==n.keyCode?i.moveUp():(39==n.keyCode||40==n.keyCode)&&i.moveDown())}),n(document).swipeEvents().bind("swipeLeft swipeUp",function(n){i.sLock&&(n.preventDefault(),i.moveDown())}),n(document).swipeEvents().bind("swipeRight swipeDown",function(n){i.sLock&&(n.preventDefault(),i.moveUp())})},initStyle:function(){var i=this,t=i.config;n("html,body").css({width:"100%",height:"100%",overflow:t.hideScrollBar?"hidden":"inherit"}),"vertical"==t.direction?(i.container.css({width:"100%",height:100*i.pageLength+"%",float:"none",position:"relative"}),i.section.css({width:"100%",height:Math.floor(100/i.pageLength).toFixed(2)+"%",float:"none"})):(i.container.css({height:"100%",width:100*i.pageLength+"%",float:"left",position:"relative"}),i.section.css({height:"100%",width:Math.floor(100/i.pageLength).toFixed(2)+"%",float:"left"}))},initDots:function(){if(this.config.dots){var i=0,t='<div class="scroll-dots-wrap page-dots"><ul>';for(i;i<this.pageLength;i++)t+='<li class="dot'+(i==this.index?" current":"")+'" data-index="'+i+'"></li>';t+="</ul></div>";var o=n(t);o.appendTo("body");var e=this;o.find(".dot").each(function(i){e.dotsDoms.push(n(this)),n(this).bind("click",function(){e.moveTo(i)})})}},initNavgation:function(){if(0!=this.config.navgation){var i=(n(this.config.navgation[0]),n(this.config.navgation[1])),t=this;t.config.navgation[2]||(t.config.navgation[2]="data-index"),i.length&&i.each(function(i,o){n(o).attr(t.config.navgation[2])||n(o).attr(t.config.navgation[2],i),t.navDoms.push(n(this)),n(o).bind("click",function(){var i=n(this).attr(t.config.navgation[2]);t.moveTo(i)})})}}},window.smohanScrollPage=function(n,t){var o=new i(n,t);return{version:o.version,index:o.index,moveDown:function(){o.moveDown()},moveUp:function(){o.moveUp()},moveTo:function(n){o.moveTo(n)}}},n.fn.smohanScrollPage=function(n){return smohanScrollPage(this,n)}}(jQuery);